{"version":3,"file":"js/771.e457bb94.js","mappings":"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","sources":["webpack://frontend/./src/views/CadastroView.vue","webpack://frontend/./src/components/LoginCadastro/CadastroComponent.vue","webpack://frontend/./src/components/LoginCadastro/CadastroComponent.vue?4519","webpack://frontend/./src/views/CadastroView.vue?493e"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <CadastroComponent />\n    </div>\n</template>\n\n<script>\n    import CadastroComponent from '../components/LoginCadastro/CadastroComponent.vue'\n\n    export default{\n        components:{\n            CadastroComponent,\n        }\n    }\n</script>\n\n<style scoped>\n</style>","<template>\n    <form @submit.prevent=\"cadastrarCliente\">\n      <div class=\"card\">\n        <h2>Criar uma conta</h2>\n  \n        <div v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\n  \n        <div class=\"input-group\">\n          <label>Username:</label>\n          <input type=\"text\" placeholder=\"Ex: exemploDaSilva123\" v-model=\"username\" required :class=\"{'error-input': errors.emailOrUsernameExists}\">\n        </div>\n  \n        <div class=\"nomeSobrenome\">\n          <input type=\"text\" placeholder=\"Nome\" v-model=\"nome\" required>\n          <input type=\"text\" placeholder=\"Sobrenome\" v-model=\"sobrenome\" required>\n        </div>\n  \n        <div class=\"input-group\">\n          <label>Data de nascimento:</label>\n          <div class=\"data-nascimento\">\n            <select class=\"select\" aria-label=\"Dia\" v-model=\"diaNascimento\" required>\n              <option v-for=\"dia in 31\" :key=\"dia\" :value=\"dia\">{{ dia }}</option>\n            </select>\n            <select class=\"select\" aria-label=\"Mês\" v-model=\"mesNascimento\" required>\n              <option \n                v-for=\"(nomeMes, index) in meses\" :key=\"index\" :value=\"index < 9 ? '0' + (index+1) : (index+1)\">\n                {{ nomeMes }}\n              </option>\n            </select>\n            <select class=\"select\" aria-label=\"Ano\" v-model=\"anoNascimento\" required>\n              <option v-for=\"ano in 100\" :key=\"ano\" :value=\"2024 - ano\">{{ 2024 - ano }}</option>\n            </select>\n          </div>\n        </div>\n  \n        <div class=\"input-group\">\n          <input type=\"email\" placeholder=\"Email\" v-model=\"email\" required :class=\"{'error-input': errors.emailOrUsernameExists}\">\n        </div>\n  \n        <div class=\"input-group\">\n          <input type=\"password\" placeholder=\"Senha\" v-model=\"senha\" required :class=\"{'error-input': errors.passwordComplexity || errors.passwordMismatch}\">\n        </div>\n  \n        <div class=\"input-group\">\n          <input type=\"password\" placeholder=\"Repetir senha\" v-model=\"senhaRepetida\" required :class=\"{'error-input': errors.passwordMismatch}\">\n        </div>\n  \n        <input class=\"register-button\" type=\"submit\" value=\"Cadastre-se\">\n        <router-link to=\"/login\" class=\"routerLink\">Já tem uma conta?</router-link>\n      </div>\n    </form>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    data() {\n      return {\n        username: '',\n        nome: '',\n        sobrenome: '',\n        diaNascimento: null,\n        mesNascimento: null,\n        anoNascimento: null,\n        email: '',\n        senha: '',\n        senhaRepetida: '',\n  \n        errorMessage: '',\n  \n        errors: {\n          passwordComplexity: false,\n          passwordMismatch: false,\n          emailOrUsernameExists: false,\n        },\n\n        meses: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun',\n              'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez']\n      };\n    },\n    methods: {\n      validarSenha() {\n        const regex = /^(?=.*[A-Z])(?=.*\\d)(?=.*[^A-Za-z0-9]).{8,}$/;\n        return regex.test(this.senha);\n      },\n      limparErros() {\n        this.errorMessage = '';\n        this.errors.passwordComplexity = false;\n        this.errors.passwordMismatch = false;\n        this.errors.emailOrUsernameExists = false;\n      },\n      async cadastrarCliente() {\n        this.limparErros();\n  \n        if (!this.validarSenha()) {\n          this.errors.passwordComplexity = true;\n          this.errorMessage = 'A senha deve ter pelo menos 8 caracteres, incluindo um caractere especial, um número e uma letra maiúscula.';\n          return;\n        }\n  \n        if (this.senha !== this.senhaRepetida) {\n          this.errors.passwordMismatch = true;\n          this.errorMessage = 'As senhas digitadas são diferentes.';\n          return;\n        }\n\n          const dados = {\n          username: this.username,\n          first_name: this.nome,\n          last_name: this.sobrenome,\n          dataNascimento: `${this.diaNascimento}/${this.mesNascimento}/${this.anoNascimento}`,\n          email: this.email,\n          password: this.senha\n        };\n  \n        try {\n          const response = await axios.post(\n            'http://127.0.0.1:8000/api/clientes/registro/',\n            dados,\n            { headers: { 'Content-Type': 'application/json' } }\n          );\n  \n          if (response.status === 201) {\n            this.$router.push('/login')\n          }\n        } catch (error) {\n          console.log('Erro na chamada Axios:', error);\n          if (error.response && error.response.status === 400) {\n            const msg = error.response.data.msg || '';\n            if (msg.includes('Email ou Username já cadastrado')) {\n              this.errors.emailOrUsernameExists = true;\n              this.errorMessage = 'Email ou Username já cadastrado.';\n            } else {\n              this.errorMessage = msg || 'Erro ao cadastrar. Verifique os campos.';\n            }\n          } else {\n            this.errorMessage = error.message || 'Ocorreu um erro inesperado.';\n          }\n        }\n      }\n    }\n  };\n  </script>\n  \n  <style scoped>\n  .card {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin: 20px auto;\n    width: 350px;\n    font-family: 'Montserrat', sans-serif;\n    padding: 20px;\n    background-color: white;\n    border-radius: 8px;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n    gap: 20px;\n  }\n  \n  h2 {\n    color: rgb(17, 17, 17);\n    font-size: 28px;\n  }\n  \n  .nomeSobrenome,\n  .input-group {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n  }\n  \n  .nomeSobrenome {\n    flex-direction: row;\n    gap: 10px;\n  }\n  \n  .data-nascimento {\n    display: flex;\n    flex-direction: row;\n    gap: 10px;\n    align-items: center;\n  }\n  \n  input,\n  .select {\n    padding: 10px;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    font-size: 14px;\n    width: 100%;\n    box-sizing: border-box;\n  }\n  \n  .error-input {\n    border-color: red !important;\n  }\n  \n  .register-button {\n    background-color: #0f0f0f;\n    color: white;\n    border: none;\n    padding: 12px;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 16px;\n    transition: background-color 0.3s;\n  }\n  \n  .register-button:hover {\n    background-color: #1f1f1f;\n  }\n  \n  a {\n    text-decoration: none;\n    color: rgb(0, 65, 139);\n  }\n  \n  .error-message {\n    color: red;\n    font-size: 14px;\n    text-align: center;\n    margin-top: -10px;\n  }\n\n  .routerLink{\n    text-decoration: underline;\n  }\n  </style>\n  ","import { render } from \"./CadastroComponent.vue?vue&type=template&id=31bda46c&scoped=true\"\nimport script from \"./CadastroComponent.vue?vue&type=script&lang=js\"\nexport * from \"./CadastroComponent.vue?vue&type=script&lang=js\"\n\nimport \"./CadastroComponent.vue?vue&type=style&index=0&id=31bda46c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-31bda46c\"]])\n\nexport default __exports__","import { render } from \"./CadastroView.vue?vue&type=template&id=6368c6e4\"\nimport script from \"./CadastroView.vue?vue&type=script&lang=js\"\nexport * from \"./CadastroView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_CadastroComponent","key","onSubmit","_cache","_withModifiers","args","$options","cadastrarCliente","_createElementVNode","$data","errorMessage","_hoisted_2","_toDisplayString","_createCommentVNode","_hoisted_3","type","placeholder","$event","username","required","_normalizeClass","errors","emailOrUsernameExists","_hoisted_4","nome","sobrenome","_hoisted_5","_hoisted_6","diaNascimento","_Fragment","_renderList","dia","value","_hoisted_7","mesNascimento","meses","nomeMes","index","_hoisted_8","anoNascimento","ano","_hoisted_9","_hoisted_10","email","_hoisted_11","senha","passwordComplexity","passwordMismatch","_hoisted_12","senhaRepetida","_component_router_link","to","default","_withCtx","_createTextVNode","_","data","methods","validarSenha","regex","test","this","limparErros","dados","first_name","last_name","dataNascimento","password","response","axios","post","headers","status","$router","push","error","console","log","msg","includes","message","__exports__","components","CadastroComponent","render"],"sourceRoot":""}