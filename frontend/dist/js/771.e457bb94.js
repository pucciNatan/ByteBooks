"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[771],{771:function(e,s,a){a.r(s),a.d(s,{default:function(){return N}});var r=a(6768);const o={class:"container"};function t(e,s,a,t,n,i){const l=(0,r.g2)("CadastroComponent");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.bF)(l)])}var n=a(5130),i=a(4232);const l={class:"card"},u={key:0,class:"error-message"},d={class:"input-group"},m={class:"nomeSobrenome"},c={class:"input-group"},p={class:"data-nascimento"},h=["value"],v=["value"],k=["value"],b={class:"input-group"},C={class:"input-group"},g={class:"input-group"};function L(e,s,a,o,t,L){const E=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("form",{onSubmit:s[9]||(s[9]=(0,n.D$)(((...e)=>L.cadastrarCliente&&L.cadastrarCliente(...e)),["prevent"]))},[(0,r.Lk)("div",l,[s[13]||(s[13]=(0,r.Lk)("h2",null,"Criar uma conta",-1)),t.errorMessage?((0,r.uX)(),(0,r.CE)("div",u,(0,i.v_)(t.errorMessage),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",d,[s[10]||(s[10]=(0,r.Lk)("label",null,"Username:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Ex: exemploDaSilva123","onUpdate:modelValue":s[0]||(s[0]=e=>t.username=e),required:"",class:(0,i.C4)({"error-input":t.errors.emailOrUsernameExists})},null,2),[[n.Jo,t.username]])]),(0,r.Lk)("div",m,[(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Nome","onUpdate:modelValue":s[1]||(s[1]=e=>t.nome=e),required:""},null,512),[[n.Jo,t.nome]]),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Sobrenome","onUpdate:modelValue":s[2]||(s[2]=e=>t.sobrenome=e),required:""},null,512),[[n.Jo,t.sobrenome]])]),(0,r.Lk)("div",c,[s[11]||(s[11]=(0,r.Lk)("label",null,"Data de nascimento:",-1)),(0,r.Lk)("div",p,[(0,r.bo)((0,r.Lk)("select",{class:"select","aria-label":"Dia","onUpdate:modelValue":s[3]||(s[3]=e=>t.diaNascimento=e),required:""},[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(31,(e=>(0,r.Lk)("option",{key:e,value:e},(0,i.v_)(e),9,h))),64))],512),[[n.u1,t.diaNascimento]]),(0,r.bo)((0,r.Lk)("select",{class:"select","aria-label":"Mês","onUpdate:modelValue":s[4]||(s[4]=e=>t.mesNascimento=e),required:""},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.meses,((e,s)=>((0,r.uX)(),(0,r.CE)("option",{key:s,value:s<9?"0"+(s+1):s+1},(0,i.v_)(e),9,v)))),128))],512),[[n.u1,t.mesNascimento]]),(0,r.bo)((0,r.Lk)("select",{class:"select","aria-label":"Ano","onUpdate:modelValue":s[5]||(s[5]=e=>t.anoNascimento=e),required:""},[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(100,(e=>(0,r.Lk)("option",{key:e,value:2024-e},(0,i.v_)(2024-e),9,k))),64))],512),[[n.u1,t.anoNascimento]])])]),(0,r.Lk)("div",b,[(0,r.bo)((0,r.Lk)("input",{type:"email",placeholder:"Email","onUpdate:modelValue":s[6]||(s[6]=e=>t.email=e),required:"",class:(0,i.C4)({"error-input":t.errors.emailOrUsernameExists})},null,2),[[n.Jo,t.email]])]),(0,r.Lk)("div",C,[(0,r.bo)((0,r.Lk)("input",{type:"password",placeholder:"Senha","onUpdate:modelValue":s[7]||(s[7]=e=>t.senha=e),required:"",class:(0,i.C4)({"error-input":t.errors.passwordComplexity||t.errors.passwordMismatch})},null,2),[[n.Jo,t.senha]])]),(0,r.Lk)("div",g,[(0,r.bo)((0,r.Lk)("input",{type:"password",placeholder:"Repetir senha","onUpdate:modelValue":s[8]||(s[8]=e=>t.senhaRepetida=e),required:"",class:(0,i.C4)({"error-input":t.errors.passwordMismatch})},null,2),[[n.Jo,t.senhaRepetida]])]),s[14]||(s[14]=(0,r.Lk)("input",{class:"register-button",type:"submit",value:"Cadastre-se"},null,-1)),(0,r.bF)(E,{to:"/login",class:"routerLink"},{default:(0,r.k6)((()=>s[12]||(s[12]=[(0,r.eW)("Já tem uma conta?")]))),_:1})])],32)}a(4114);var E=a(4373),y={data(){return{username:"",nome:"",sobrenome:"",diaNascimento:null,mesNascimento:null,anoNascimento:null,email:"",senha:"",senhaRepetida:"",errorMessage:"",errors:{passwordComplexity:!1,passwordMismatch:!1,emailOrUsernameExists:!1},meses:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]}},methods:{validarSenha(){const e=/^(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/;return e.test(this.senha)},limparErros(){this.errorMessage="",this.errors.passwordComplexity=!1,this.errors.passwordMismatch=!1,this.errors.emailOrUsernameExists=!1},async cadastrarCliente(){if(this.limparErros(),!this.validarSenha())return this.errors.passwordComplexity=!0,void(this.errorMessage="A senha deve ter pelo menos 8 caracteres, incluindo um caractere especial, um número e uma letra maiúscula.");if(this.senha!==this.senhaRepetida)return this.errors.passwordMismatch=!0,void(this.errorMessage="As senhas digitadas são diferentes.");const e={username:this.username,first_name:this.nome,last_name:this.sobrenome,dataNascimento:`${this.diaNascimento}/${this.mesNascimento}/${this.anoNascimento}`,email:this.email,password:this.senha};try{const s=await E.A.post("http://127.0.0.1:8000/api/clientes/registro/",e,{headers:{"Content-Type":"application/json"}});201===s.status&&this.$router.push("/login")}catch(s){if(console.log("Erro na chamada Axios:",s),s.response&&400===s.response.status){const e=s.response.data.msg||"";e.includes("Email ou Username já cadastrado")?(this.errors.emailOrUsernameExists=!0,this.errorMessage="Email ou Username já cadastrado."):this.errorMessage=e||"Erro ao cadastrar. Verifique os campos."}else this.errorMessage=s.message||"Ocorreu um erro inesperado."}}}},f=a(1241);const M=(0,f.A)(y,[["render",L],["__scopeId","data-v-31bda46c"]]);var U=M,w={components:{CadastroComponent:U}};const x=(0,f.A)(w,[["render",t]]);var N=x}}]);
//# sourceMappingURL=771.e457bb94.js.map