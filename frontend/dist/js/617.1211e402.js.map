{"version":3,"file":"js/617.1211e402.js","mappings":"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","sources":["webpack://frontend/./src/components/TelaPagamento.vue","webpack://frontend/./src/components/TelaPagamento.vue?c0d4","webpack://frontend/./src/views/CarrinhoView.vue","webpack://frontend/./src/components/carrinho/CarrinhoComponent.vue","webpack://frontend/./src/components/carrinho/CarrinhoComponent.vue?1292","webpack://frontend/./src/views/CarrinhoView.vue?82c4"],"sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <!-- COLUNA ESQUERDA -->\r\n    <div class=\"colunas\" v-if=\"!compradoComSucesso\">\r\n      <div class=\"colunaEsquerda\">\r\n      <label class=\"tituloColuna\">Seu saldo</label>\r\n\r\n      <div class=\"colunaSaldo\">\r\n        <span class=\"saldo\">R$ {{ saldoCliente }}</span>\r\n        <button class=\"botaoAdd\" @click=\"atualizarSaldo50\">+ R$ 50</button>\r\n      </div>\r\n\r\n      <div class=\"precoProduto\">\r\n        <label>Total da compra</label>\r\n        <span>R$ {{ total }}</span>\r\n      </div>\r\n\r\n      <div class=\"saldoFinal\">\r\n        <label>Saldo final</label>\r\n        <span>R$ {{ getSaldoFinal() }}</span>\r\n      </div>\r\n\r\n      <button class=\"botaoConfirmar\" @click=\"finalizarCompra\">\r\n        Finalizar compra\r\n      </button>\r\n    </div>\r\n\r\n    <!-- COLUNA DIREITA -->\r\n    <div class=\"colunaDireita\">\r\n      <div class=\"carrinho\">\r\n        <ul class=\"listaLivros\">\r\n          <li v-for=\"(item,index) in itens\" :key=\"index\" class=\"itemLivro\">\r\n            <img\r\n              :src=\"'http://localhost:8000'+item.livro.img\"\r\n              :alt=\"'Capa do livro' + item.livro.titulo\"\r\n            />\r\n            <div class=\"detalhes\">\r\n              <span class=\"tituloLivro\">{{ item.livro.titulo }}</span>\r\n              <span class=\"quantidade\">x{{ item.quantidade ?? 1 }}</span>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div v-else class=\"comprado\">\r\n    <h1>Compra realizada com sucesso!</h1>\r\n    <p>Veja seus livros adquiridos: <router-link class=\"link\" to=\"/minhasCompras\">aqui</router-link></p>\r\n  </div>\r\n\r\n  <div class=\"fecharCompra\" @click=\"fecharCompra\">X</div>\r\n</div>\r\n    \r\n</template>\r\n\r\n<script>\r\nimport { getSaldoCliente, atualizarSaldoCliente50 } from \"@/api/apiService\";\r\n\r\nexport default {\r\n  name: \"TelaPagamento\",\r\n  props: {\r\n    itens: { type: Array, required: true },\r\n    total: { type: String, required: true },\r\n  },\r\n  data() {\r\n    return { \r\n      saldoCliente: 0,\r\n      compradoComSucesso: false\r\n    };\r\n  },\r\n  async created() {\r\n    try {\r\n      const res = await getSaldoCliente();\r\n      this.saldoCliente = parseFloat(res.data);\r\n    } catch (e) {\r\n      console.error(\"Erro ao buscar saldo:\", e);\r\n    }\r\n  },\r\n  methods:{\r\n    async finalizarCompra() {\r\n      await Promise.all(\r\n        this.itens.map(({ livro, quantidade }) =>\r\n          this.$store.dispatch(\"comprarLivro\", { idLivro: livro.id, quantidade }),\r\n        )\r\n      );\r\n\r\n      await this.$store.dispatch(\"carregarItensCarrinho\");\r\n      const { data } = await getSaldoCliente();\r\n      this.saldoCliente = Number(data.saldo ?? data);\r\n      this.compradoComSucesso = true;\r\n    },\r\n    getSaldoFinal(){\r\n      const saldoFinal = (this.saldoCliente - parseFloat(this.total)).toFixed(2)\r\n      return saldoFinal\r\n    },\r\n    async atualizarSaldo50(){\r\n      await atualizarSaldoCliente50()\r\n      const res = await getSaldoCliente();\r\n      this.saldoCliente = parseFloat(res.data);\r\n    },\r\n    fecharCompra(){\r\n      this.$emit('confirmarCompra');\r\n    }\r\n  }\r\n};\r\n</script>\r\n  \r\n  <!-- VARIÁVEIS GLOBAIS -->\r\n  <style>\r\n  :root {\r\n    --bg-card: #1f242d;\r\n    --bg-input: #252b35;\r\n    --bg-item: #2b3039;\r\n    --border: #3a414c;\r\n    --text: #dfe3ea;\r\n    --primaria: #009405;\r\n    --primaria-hover: #00b306;\r\n    --radius: 8px;\r\n    --item-h: 60px; /* ~90px capa + paddings */\r\n  }\r\n  </style>\r\n  \r\n  <style scoped>\r\n  .main {\r\n    position: relative;\r\n    font-family: \"Roboto\", sans-serif;\r\n    padding: 2rem;\r\n    border-radius: var(--radius);\r\n    background: var(--bg-card);\r\n    width: min(100%, 700px);\r\n    margin-inline: auto;\r\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);\r\n    color: var(--text);\r\n    align-items: stretch;\r\n  }\r\n\r\n  .colunas{\r\n    display: flex;\r\n    gap: 2rem;\r\n  }\r\n  \r\n  /* -------- ESQUERDA -------- (sem mudanças) */\r\n  .colunaEsquerda {\r\n    flex: 1 1 45%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n  }\r\n  \r\n  .tituloColuna {\r\n    font-size: clamp(1rem, 2vw, 1.3rem);\r\n    font-weight: 600;\r\n  }\r\n  \r\n  .colunaSaldo {\r\n    display: flex;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .saldo {\r\n    flex: 1;\r\n    background: var(--bg-input);\r\n    border: 2px solid var(--border);\r\n    border-radius: var(--radius);\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0.5rem 1rem;\r\n    font-size: 1.4rem;\r\n  }\r\n  \r\n  .botaoAdd {\r\n    background: var(--primaria);\r\n    color: #fff;\r\n    border: none;\r\n    border-radius: var(--radius);\r\n    padding: 0.5rem 0.75rem;\r\n    font-size: 1rem;\r\n    cursor: pointer;\r\n    transition: background 0.15s ease;\r\n  }\r\n  .botaoAdd:hover { background: var(--primaria-hover); }\r\n  \r\n  .precoProduto,\r\n  .saldoFinal {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    background: var(--bg-input);\r\n    border: 2px solid var(--border);\r\n    border-radius: var(--radius);\r\n    padding: 0.75rem 1rem;\r\n    font-size: clamp(0.9rem, 1.8vw, 1rem);\r\n  }\r\n  \r\n  .botaoConfirmar {\r\n    background: var(--primaria);\r\n    color: #fff;\r\n    border: none;\r\n    border-radius: var(--radius);\r\n    padding: 0.75rem 1.5rem;\r\n    font-size: 1.1rem;\r\n    cursor: pointer;\r\n    transition: background 0.15s ease;\r\n    width: 100%;\r\n  }\r\n  .botaoConfirmar:hover { background: var(--primaria-hover); }\r\n  \r\n  /* -------- DIREITA -------- */\r\n  .colunaDireita {\r\n    flex: 1 1 45%;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .carrinho {\r\n    flex: 1;\r\n    background: var(--bg-input);\r\n    border: 2px solid var(--border);\r\n    border-radius: var(--radius);\r\n    padding: 0.75rem;\r\n    overflow-y: auto;\r\n    max-height: calc(var(--item-h) * 3.7 + 2rem);\r\n  }\r\n  \r\n  /* Scrollbar minimalista (WebKit) */\r\n  .carrinho::-webkit-scrollbar {\r\n    width: 4px;\r\n  }\r\n  .carrinho::-webkit-scrollbar-track {\r\n    background: transparent;\r\n  }\r\n  .carrinho::-webkit-scrollbar-thumb {\r\n    background: var(--border);\r\n    border-radius: 3px;\r\n  }\r\n  \r\n  /* lista */\r\n  .listaLivros {\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.75rem;\r\n  }\r\n  \r\n  .itemLivro {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 1rem;\r\n    background: var(--bg-item);\r\n    border-radius: var(--radius);\r\n    padding: 0.75rem;\r\n    height: var(--item-h);\r\n  }\r\n  \r\n  .itemLivro img {\r\n    width: 50px;\r\n    height: 70px;\r\n    object-fit: cover;\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  .detalhes {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    flex: 1;\r\n  }\r\n  \r\n  .tituloLivro {\r\n    font-size: 1rem;\r\n    width: 80%;\r\n    font-weight: 500;\r\n    line-height: 1.2;\r\n  }\r\n  \r\n  .quantidade {\r\n    font-size: 0.9rem;\r\n    opacity: 0.8;\r\n  }\r\n\r\n  .fecharCompra{\r\n    top: 7px;\r\n    right: 13px;\r\n    position: absolute;\r\n}\r\n\r\n  .fecharCompra:hover{\r\n      cursor: pointer;\r\n  }\r\n\r\n  .comprado{\r\n    display: flex;\r\n    gap:12px;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .comprado > h2{\r\n    font-size: 20px;\r\n  }\r\n\r\n  .link{\r\n    color: rgb(80, 80, 220);\r\n\r\n  }\r\n  \r\n  /* -------- MOBILE -------- */\r\n  @media (max-width: 600px) {\r\n    .main { flex-direction: column; gap: 1.5rem; }\r\n    .carrinho { max-height: calc(var(--item-h) * 2.5 + 1.5rem); }\r\n  }\r\n  </style>\r\n  ","import { render } from \"./TelaPagamento.vue?vue&type=template&id=2283059a&scoped=true\"\nimport script from \"./TelaPagamento.vue?vue&type=script&lang=js\"\nexport * from \"./TelaPagamento.vue?vue&type=script&lang=js\"\n\nimport \"./TelaPagamento.vue?vue&type=style&index=0&id=2283059a&lang=css\"\nimport \"./TelaPagamento.vue?vue&type=style&index=1&id=2283059a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2283059a\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"container\">\r\n        <CarrinhoComponent />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport CarrinhoComponent from '@/components/carrinho/CarrinhoComponent.vue';\r\n\r\nexport default ({\r\n    components:{ CarrinhoComponent },\r\n    created(){\r\n        this.$store.dispatch('visitaRotaProtegida')\r\n    },\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.container{\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n\r\n</style>","<template>\r\n    <div class=\"containerCarrinho\">\r\n\r\n        <div class=\"tituloPrincipal\">Carrinho de Compras</div>\r\n\r\n        <div class=\"ladoDireitoEsquerdo\">\r\n            <div class=\"ladoEsquerdo\">\r\n                <div class=\"listaItensCarrinho\" v-if=\"itensCarrinho.length\">\r\n                    <div class=\"itemCarrinho\" v-for=\"(item, indice) in itensCarrinho\" :key=\"indice\">\r\n                        <div class=\"informacoesItem\">\r\n                            <img class=\"imagemItem\" :src=\"'http://localhost:8000' + item.livro.img\" :alt=\"'Capa do livro ' + item.livro.titulo\" />\r\n                            <div class=\"detalhesItem\">\r\n                                <div class=\"nomeItem\">{{ item.livro.titulo }}</div>\r\n                                <p class=\"precoItem\">R$ {{ item.livro.preco }}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"acoesItem\">\r\n                            <div class=\"quantidadeControle\">\r\n                                <button class=\"botaoDiminuir\" @click=\"diminuirQuantidade(item)\">\r\n                                    <div v-if=\"item.quantidade > 1\">-</div>\r\n                                    <div v-else>\r\n                                        <img src=\"../../imgs/lixeira.svg\" alt=\"ícone lixeira\" style=\"width: 20px; margin-top: 4px;\">\r\n                                    </div>\r\n                                </button>\r\n                                <input class=\"quantidadeItem\" type=\"text\" :value=\"item.quantidade\" readonly />\r\n                                <button class=\"botaoAumentar\" @click=\"aumentarQuantidade(item)\">+</button>\r\n                            </div>\r\n                            <button class=\"botaoRemover\" @click=\"removerItem(indice, item.livro.id)\">Remover</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"carrinhoVazio\" v-else><p>Não há itens no carrinho.</p></div>\r\n            </div>\r\n\r\n            <div class=\"ladoDireito\" v-if=\"itensCarrinho.length\">\r\n                <div class=\"resumoCarrinho\">\r\n                    <p class=\"textoResumo\">\r\n                        Total:\r\n                        <strong>\r\n                            R$ {{ totalCarrinho }}\r\n                            <span v-if=\"descontoAplicado\">(cupom aplicado)</span>\r\n                        </strong>\r\n                    </p>\r\n\r\n                    <div class=\"cupomDesconto\">\r\n                        <input\r\n                            class=\"campoCupom\"\r\n                            type=\"text\"\r\n                            placeholder=\"Insira seu cupom\"\r\n                            v-model=\"cupomDesconto\"\r\n                            @keyup.enter=\"aplicarCupom\"\r\n                        />\r\n                        <button class=\"botaoAplicarCupom\" @click=\"aplicarCupom\">Aplicar</button>\r\n                    </div>\r\n\r\n                    <button class=\"botaoFinalizar\" @click=\"irParaCompra\">Finalizar Compra</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div v-if=\"finalizarCompra\" class=\"finalizarCompra\">\r\n            <TelaPagamento\r\n                :itens=\"itensCarrinho\"\r\n                :total=\"Number(totalCarrinho)\"\r\n                @confirmarCompra=\"fecharCompra\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport TelaPagamento from '../TelaPagamento.vue';\r\n\r\nexport default {\r\n    components: { TelaPagamento },\r\n\r\n    created() {\r\n        this.$store.dispatch('carregarItensCarrinho');\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            cupomDesconto: '',\r\n            finalizarCompra: false,\r\n            descontoAplicado: 0\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        totalCarrinho() {\r\n            const subtotal = this.itensCarrinho.reduce(\r\n                (soma, item) => soma + parseFloat(item.livro.preco) * item.quantidade,\r\n                0\r\n            );\r\n            const totalComDesconto = subtotal * (1 - this.descontoAplicado);\r\n            return totalComDesconto.toFixed(2);\r\n        },\r\n        itensCarrinho() {\r\n            return this.$store.getters.getItensCarrinho;\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        aumentarQuantidade(item) {\r\n            this.$store.dispatch('atualizarQuantidade', { idLivro: item.livro.id, adicionar: true });\r\n        },\r\n        diminuirQuantidade(item) {\r\n            this.$store.dispatch('atualizarQuantidade', { idLivro: item.livro.id, adicionar: false });\r\n        },\r\n        removerItem(indice, id) {\r\n            this.$store.dispatch('removerLivroDoCarrinho', id);\r\n            this.itensCarrinho.splice(indice, 1);\r\n        },\r\n\r\n        aplicarCupom() {\r\n            const cupons = {\r\n                CUPOM30: 0.30,\r\n                CUPOM50: 0.50,\r\n                CUPOM10: 0.10\r\n            };\r\n            const codigo = this.cupomDesconto.trim().toUpperCase();\r\n\r\n            if (codigo in cupons) {\r\n                this.descontoAplicado = cupons[codigo];\r\n            } else {\r\n                this.descontoAplicado = 0;\r\n                alert('Cupom inválido. Tente CUPOM30, CUPOM50 ou CUPOM10.');\r\n            }\r\n        },\r\n\r\n        irParaCompra() {\r\n            this.finalizarCompra = true;\r\n        },\r\n        fecharCompra() {\r\n            this.finalizarCompra = false;\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.containerCarrinho {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 90%;\r\n    margin: 40px auto;\r\n    font-family: 'Roboto', sans-serif;\r\n    min-height: calc(100vh - 200px);\r\n    color: #e5e5e5;\r\n}\r\n\r\n.tituloPrincipal {\r\n    font-size: 2rem;\r\n    font-weight: 600;\r\n    margin-bottom: 2rem;\r\n    text-align: center;\r\n}\r\n\r\n.ladoDireitoEsquerdo{\r\n    display: flex;\r\n    justify-content: space-around;\r\n    width: 90%;\r\n}\r\n\r\n.ladoEsquerdo, .ladoDireito {\r\n    background-color: #2f2f2f;\r\n    border-radius: 10px;\r\n    padding: 1rem;\r\n}\r\n\r\n.ladoEsquerdo { \r\n    width: 65%; \r\n    margin-right: 2%; \r\n}\r\n\r\n.ladoDireito { \r\n    padding-right: 25px;\r\n    width: 20%; \r\n    height: fit-content; \r\n}\r\n\r\n.containerCarrinho > .ladoEsquerdo, .containerCarrinho > .ladoDireito {\r\n    display: inline-block;\r\n    vertical-align: top;\r\n}\r\n\r\n.listaItensCarrinho {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n    height: 50vh;\r\n    padding-right: 5px;\r\n    overflow-y: scroll;\r\n}\r\n\r\n.itemCarrinho {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    background-color: #3a3a3a;\r\n    padding: 1rem;\r\n    border-radius: 8px;\r\n}\r\n\r\n.informacoesItem {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 1rem;\r\n}\r\n\r\n.informacoesItem > img{\r\n    width: 70px;\r\n}\r\n.imagemItem {\r\n    object-fit: cover;\r\n    border-radius: 4px;\r\n}\r\n\r\n.detalhesItem {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.nomeItem {\r\n    margin: 0;\r\n    font-size: 1.2rem;\r\n}\r\n\r\n.precoItem {\r\n    margin: 0.2rem 0 0;\r\n    font-weight: 500;\r\n}\r\n\r\n.acoesItem {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.5rem;\r\n}\r\n\r\n.quantidadeControle {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 4px;\r\n}\r\n\r\n.quantidadeItem {\r\n    width: 50px;\r\n    padding: 0.3rem;\r\n    border: 1px solid #444;\r\n    border-radius: 4px;\r\n    background-color: #2f2f2f;\r\n    color: #fff;\r\n    text-align: center;\r\n}\r\n\r\n.botaoDiminuir, .botaoAumentar {\r\n    background-color: #444;\r\n    border: none;\r\n    color: #fff;\r\n    font-size: 1.1rem;\r\n    width: 30px;\r\n    height: 30px;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s;\r\n}\r\n\r\n.botaoDiminuir:hover, .botaoAumentar:hover {\r\n    background-color: #555;\r\n}\r\n\r\n.botaoRemover {\r\n    background-color: #d9534f;\r\n    color: #fff;\r\n    border: none;\r\n    padding: 0.5rem 1rem;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    transition: 0.3s;\r\n}\r\n\r\n.botaoRemover:hover {\r\n    background-color: #c9302c;\r\n}\r\n\r\n.carrinhoVazio {\r\n    text-align: center;\r\n    font-style: italic;\r\n    opacity: 0.8;\r\n}\r\n\r\n.resumoCarrinho {\r\n    text-align: left;\r\n}\r\n\r\n.textoResumo {\r\n    font-size: 1.2rem;\r\n    margin-bottom: 1rem;\r\n}\r\n\r\n.cupomDesconto {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 6px;\r\n    margin-bottom: 1rem;\r\n}\r\n\r\n.campoCupom {\r\n    flex: 1;\r\n    border: 1px solid #444;\r\n    border-radius: 4px;\r\n    background-color: #121212;\r\n    color: #fff;\r\n    padding: 0.5rem;\r\n}\r\n\r\n.botaoAplicarCupom {\r\n    background-color: #444;\r\n    border: none;\r\n    border-radius: 4px;\r\n    color: #fff;\r\n    padding: 0.5rem 1rem;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s;\r\n}\r\n\r\n.botaoAplicarCupom:hover {\r\n    background-color: #555;\r\n}\r\n\r\n.botaoFinalizar {\r\n    transition: 0.3s;\r\n    background-color: #28a745;\r\n    color: #fff;\r\n    border: none;\r\n    padding: 0.8rem 1.5rem;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    font-size: 1rem;\r\n}\r\n\r\n.botaoFinalizar:hover {\r\n    background-color: #218838;\r\n}\r\n\r\n.listaItensCarrinho::-webkit-scrollbar {\r\n  width: 6px;               /* Largura da barra */\r\n}\r\n\r\n.listaItensCarrinho::-webkit-scrollbar-track {\r\n  background: #2f2f2f;      /* Cor do \"trilho\" */\r\n}\r\n\r\n.listaItensCarrinho::-webkit-scrollbar-thumb {\r\n  background-color: #444;   /* Cor do \"thumb\" */\r\n  border-radius: 4px;       /* Bordas arredondadas */\r\n}\r\n\r\n.listaItensCarrinho::-webkit-scrollbar-thumb:hover {\r\n  background-color: #555;   /* Ao passar o mouse */\r\n}\r\n\r\n.listaItensCarrinho {\r\n  scrollbar-width: thin;            /* Deixa mais fino */\r\n  scroll-margin-right: 10px;\r\n  scrollbar-color: #444 #2f2f2f;    /* thumb | track */\r\n}\r\n\r\n.finalizarCompra{\r\n    position: absolute;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 100%;\r\n    width: 100%;\r\n    background-color: rgb(16, 21, 26, 0.9);\r\n}\r\n\r\n</style>\r\n","import { render } from \"./CarrinhoComponent.vue?vue&type=template&id=afcbc9b4&scoped=true\"\nimport script from \"./CarrinhoComponent.vue?vue&type=script&lang=js\"\nexport * from \"./CarrinhoComponent.vue?vue&type=script&lang=js\"\n\nimport \"./CarrinhoComponent.vue?vue&type=style&index=0&id=afcbc9b4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-afcbc9b4\"]])\n\nexport default __exports__","import { render } from \"./CarrinhoView.vue?vue&type=template&id=72655f18&scoped=true\"\nimport script from \"./CarrinhoView.vue?vue&type=script&lang=js\"\nexport * from \"./CarrinhoView.vue?vue&type=script&lang=js\"\n\nimport \"./CarrinhoView.vue?vue&type=style&index=0&id=72655f18&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-72655f18\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","$data","compradoComSucesso","_hoisted_15","_createElementVNode","_createTextVNode","_createVNode","_component_router_link","to","default","_withCtx","_cache","_","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","saldoCliente","onClick","args","$options","atualizarSaldo50","_hoisted_6","$props","total","_hoisted_7","getSaldoFinal","finalizarCompra","_hoisted_8","_hoisted_9","_hoisted_10","_Fragment","_renderList","itens","item","index","src","livro","img","alt","titulo","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","quantidade","fecharCompra","name","props","type","Array","required","String","data","created","res","getSaldoCliente","this","parseFloat","e","console","error","methods","Promise","all","map","$store","dispatch","idLivro","id","Number","saldo","saldoFinal","toFixed","atualizarSaldoCliente50","$emit","__exports__","render","_component_CarrinhoComponent","itensCarrinho","length","indice","preco","$event","diminuirQuantidade","_imports_0","style","value","readonly","aumentarQuantidade","_hoisted_16","removerItem","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","totalCarrinho","descontoAplicado","_hoisted_22","_createCommentVNode","_hoisted_23","placeholder","cupomDesconto","onKeyup","_withKeys","aplicarCupom","irParaCompra","_hoisted_24","_component_TelaPagamento","onConfirmarCompra","components","TelaPagamento","computed","subtotal","reduce","soma","totalComDesconto","getters","getItensCarrinho","adicionar","splice","cupons","CUPOM30","CUPOM50","CUPOM10","codigo","trim","toUpperCase","alert","CarrinhoComponent"],"sourceRoot":""}