(function(){"use strict";var o={6373:function(o,e,t){t.d(e,{A6:function(){return v},DO:function(){return s},F2:function(){return c},Ju:function(){return k},M0:function(){return L},Nw:function(){return l},P6:function(){return y},SI:function(){return u},T4:function(){return m},To:function(){return b},UU:function(){return p},UY:function(){return C},YI:function(){return f},dz:function(){return d},o_:function(){return h},rs:function(){return g},ti:function(){return i}});var r=t(4373),a=t(5968);const n=r.A.create({baseURL:"http://127.0.0.1:8000/api/",headers:{"Content-Type":"application/json"}});function s(){return n.get("livros/ultimosLancamentosLoja")}function i(o){return n.get("livros/livroPorCategoria/"+o)}function c(){return n.get("livros/maisVendidos/")}function u(o){return n.get("livros/livroPorPesquisa/"+o)}function l(o){return n.get("livros/livroPorId/"+o)}function d(o){return n.get("combos/comboPorId/"+o)}function m(){return n.get("combos/todosCombos/")}function p(){return n.get("clientes/protegida/")}function f(){return n.get("carrinho/retornaCarrinho/")}function g(o){return n.post("carrinho/adicionarItemAoCarrinho/"+o)}function h(o){return n.delete("carrinho/removerDoCarrinho/"+o)}function v(o,e){return n.patch("carrinho/atualizarQuantidade/"+o,{adicionar:e})}function b(o,e){const t=e||1;return n.post(`/livros/comprarLivro/${o}`,{quantidade:t})}function k(){return n.get("clientes/cliente/")}function C(){return n.get("clientes/saldo/")}function L(){return n.post("clientes/saldo/")}function y(o){return n.patch("clientes/atualizarInfos/",o)}n.interceptors.request.use((o=>{const e=a.A.getters.getToken;return e&&(o.headers.Authorization=`Bearer ${e}`),o}),(o=>Promise.reject(o)))},1836:function(o,e,t){var r=t(5130),a=t(6768);const n={id:"app"},s={class:"conteudoPrincipal"};function i(o,e,t,r,i,c){const u=(0,a.g2)("NavbarComponent"),l=(0,a.g2)("router-view"),d=(0,a.g2)("RodapeComponent");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(u),(0,a.Lk)("div",s,[(0,a.bF)(l)]),(0,a.bF)(d)])}var c=t(4232),u=t.p+"img/logoComNome.a1bcd04f.png",l=t.p+"img/lancamentosNormal.715e9b81.png",d=t.p+"img/lancamentosSelecionado.e92a9830.png",m=t.p+"img/dadosNormal.d1885bce.png",p=t.p+"img/dadosSelecionado.3d176ffb.png",f=t.p+"img/backendNormal.432ae5e6.png",g=t.p+"img/backendSelecionado.55d8b4db.png",h=t.p+"img/frontendNormal.3ab5afec.png",v=t.p+"img/frontendSelecionado.64d64b50.png",b=t.p+"img/lupa.ca50d91a.png",k=t.p+"img/userIcon.a0e54211.png";const C={class:"navbar"},L={class:"listaItens"},y={class:"barraPesquisa"},w={class:"carrinho"},I={key:2,class:"entrar"};function U(o,e,t,n,s,i){const U=(0,a.g2)("router-link"),P=(0,a.g2)("CarrinhoIconeComponent"),A=(0,a.g2)("OpcoesPerfil");return(0,a.uX)(),(0,a.CE)("div",C,[(0,a.bF)(U,{to:"/"},{default:(0,a.k6)((()=>e[4]||(e[4]=[(0,a.Lk)("div",{class:"logo"},[(0,a.Lk)("img",{src:u,alt:"Logo Bytebooks"})],-1)]))),_:1}),(0,a.Lk)("ul",L,[(0,a.bF)(U,{to:"/categorias/lancamentos",class:"rotasNavbar lancamentos"},{default:(0,a.k6)((()=>e[5]||(e[5]=[(0,a.Lk)("div",{class:"item"},[(0,a.Lk)("img",{src:l,alt:"ícone de um foguete",class:"fogueteImg normal"}),(0,a.Lk)("img",{src:d,alt:"ícone de foguete azul",class:"fogueteImg hover"}),(0,a.Lk)("li",null,"Lançamentos")],-1)]))),_:1}),(0,a.bF)(U,{to:"/categorias/dados",class:"rotasNavbar ofertas"},{default:(0,a.k6)((()=>e[6]||(e[6]=[(0,a.Lk)("div",{class:"item"},[(0,a.Lk)("img",{src:m,alt:"Ícone de dados",class:"dadosImg normal"}),(0,a.Lk)("img",{src:p,alt:"Ícone de dados amarelo",class:"dadosImg hover"}),(0,a.Lk)("li",null,"Dados")],-1)]))),_:1}),(0,a.bF)(U,{to:"/categorias/backend",class:"rotasNavbar backend"},{default:(0,a.k6)((()=>e[7]||(e[7]=[(0,a.Lk)("div",{class:"item"},[(0,a.Lk)("img",{src:f,alt:"ícone de código",class:"backendImg normal"}),(0,a.Lk)("img",{src:g,alt:"ícone de código vermelho",class:"backendImg hover"}),(0,a.Lk)("li",null,"Backend")],-1)]))),_:1}),(0,a.bF)(U,{to:"/categorias/software",class:"rotasNavbar frontend"},{default:(0,a.k6)((()=>e[8]||(e[8]=[(0,a.Lk)("div",{class:"item"},[(0,a.Lk)("img",{src:h,alt:"Ícone de um PC",class:"frontendImg normal"}),(0,a.Lk)("img",{src:v,alt:"Ícone de PC verde",class:"frontendImg hover"}),(0,a.Lk)("li",null,"Software")],-1)]))),_:1})]),(0,a.Lk)("div",y,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.pesquisa=o),type:"text",onKeyup:e[1]||(e[1]=(0,r.jR)(((...o)=>i.pesquisar&&i.pesquisar(...o)),["enter"])),placeholder:"Buscar livros..."},null,544),[[r.Jo,s.pesquisa]]),(0,a.Lk)("button",{onClick:e[2]||(e[2]=(...o)=>i.pesquisar&&i.pesquisar(...o)),onKeydown:e[3]||(e[3]=(...o)=>i.pesquisar&&i.pesquisar(...o))},e[9]||(e[9]=[(0,a.Lk)("img",{src:b,alt:"Lupa"},null,-1)]),32)]),i.isAuthenticated?((0,a.uX)(),(0,a.Wv)(U,{key:0,to:"/carrinho"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",w,[(0,a.bF)(P)])])),_:1})):(0,a.Q3)("",!0),i.isAuthenticated?((0,a.uX)(),(0,a.Wv)(U,{key:1,to:"/meuPerfil",class:"rota"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",{class:"avatar-wrapper logadoDeslogado",style:(0,c.Tr)({backgroundColor:i.avatarColor})},[(0,a.eW)((0,c.v_)(i.inicialUsuario)+" ",1),(0,a.bF)(A,{class:"opcoes"})],4)])),_:1})):((0,a.uX)(),(0,a.CE)("div",I,[(0,a.bF)(U,{to:"/login",class:"cadastroELogin"},{default:(0,a.k6)((()=>e[10]||(e[10]=[(0,a.Lk)("div",{class:"botaoEntrar"},[(0,a.eW)(" Entrar "),(0,a.Lk)("img",{src:k,alt:""})],-1)]))),_:1})]))])}t(4114);var P=t.p+"img/carrinho.8f6e81af.png";const A={class:"carrinhoDeCompras"},q={class:"notificacoes"};function N(o,e,t,r,n,s){return(0,a.uX)(),(0,a.CE)("div",A,[(0,a.Lk)("div",q,(0,c.v_)(s.qtdCarrinho),1),e[0]||(e[0]=(0,a.Lk)("img",{src:P,alt:"Carrinho de compras"},null,-1))])}var S={computed:{qtdCarrinho(){return this.$store.getters.getQtdCarrinho}}},E=t(1241);const O=(0,E.A)(S,[["render",N],["__scopeId","data-v-d9cefa06"]]);var _=O;const T={class:"balaoOpcoes"};function j(o,e,t,r,n,s){const i=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",T,[(0,a.bF)(i,{to:"/meuPerfil",class:"rotas opcao ponta cima"},{default:(0,a.k6)((()=>e[1]||(e[1]=[(0,a.Lk)("div",null,"Meu perfil",-1)]))),_:1}),(0,a.bF)(i,{to:"/minhasCompras",class:"rotas opcao"},{default:(0,a.k6)((()=>e[2]||(e[2]=[(0,a.Lk)("div",null,"Minhas compras",-1)]))),_:1}),(0,a.Lk)("div",{class:"opcao ponta baixo",onClick:e[0]||(e[0]=(...o)=>s.sairDaConta&&s.sairDaConta(...o))},"Sair")])}var D={methods:{sairDaConta(){localStorage.setItem("token",""),localStorage.setItem("nomeUsuario",""),window.location.replace("/login")}}};const F=(0,E.A)(D,[["render",j]]);var z=F,M={components:{CarrinhoIconeComponent:_,OpcoesPerfil:z},data(){return{pesquisa:""}},computed:{isAuthenticated(){return""!==this.$store.getters.getToken},nomeUsuario(){return this.$store.getters.getNomeUsuario||""},inicialUsuario(){return this.nomeUsuario.charAt(0).toUpperCase()},avatarColor(){const o=["blue","green","red","purple","orange"],e=this.inicialUsuario.charCodeAt(0)%o.length;return this.$store.dispatch("corAvatar",o[e]),o[e]}},methods:{pesquisar(){""!=this.pesquisa&&(this.$router.push({path:`/pesquisa/${this.pesquisa}`}),this.pesquisa="")}}};const $=(0,E.A)(M,[["render",U],["__scopeId","data-v-6b87fb58"]]);var x=$;const V={class:"rodape"};function B(o,e,t,r,n,s){return(0,a.uX)(),(0,a.CE)("footer",V,e[0]||(e[0]=[(0,a.Lk)("div",{class:"container"},[(0,a.eW)(" Desenvolvido por Natan Pucci: "),(0,a.Lk)("a",{href:"https://github.com/pucciNatan"},"https://github.com/pucciNatan")],-1)]))}var X={};const Q=(0,E.A)(X,[["render",B],["__scopeId","data-v-4ac37647"]]);var R=Q,W={components:{NavbarComponent:x,RodapeComponent:R},created(){this.$store.dispatch("carregarTokenDoStorage"),this.$store.dispatch("carregarNomeStorage")}};const J=(0,E.A)(W,[["render",i],["__scopeId","data-v-4f66de96"]]);var K=J,Y=t(1387);const H=[{path:"/",component:()=>t.e(494).then(t.bind(t,8494))},{path:"/login",component:()=>t.e(728).then(t.bind(t,1728))},{path:"/cadastro",component:()=>t.e(771).then(t.bind(t,771))},{path:"/pesquisa/:livro",component:()=>t.e(573).then(t.bind(t,5573))},{path:"/categorias/:categoria",component:()=>t.e(573).then(t.bind(t,5573))},{path:"/paginaLivro/:idLivro",component:()=>t.e(891).then(t.bind(t,8891))},{path:"/paginaCombo/:idCombo",component:()=>t.e(781).then(t.bind(t,9781))},{path:"/carrinho",component:()=>t.e(617).then(t.bind(t,899))},{path:"/meuPerfil",component:()=>t.e(889).then(t.bind(t,5889))},{path:"/minhasCompras",component:()=>t.e(281).then(t.bind(t,4281))},{path:"/:pathMatch(.*)*",redirect:"/"}],G=(0,Y.aE)({history:(0,Y.LA)("/"),routes:H});var Z=G,oo=t(5968);(0,r.Ef)(K).use(Z).use(oo.A).mount("#app")},5968:function(o,e,t){var r=t(782),a=t(6373),n=t(4373);e.A=(0,r.y$)({state:{ultimosLancamentosLoja:[],maisVendidos:[],todosCombos:[],livrosPesquisados:[],detalhesLivro:[],detalhesCombo:[],token:"",nomeUsuario:"",itensCarrinho:[],infosUsuario:{username:"",first_name:"",last_name:"",email:"",dataNascimento:"",livrosComprados:[]},corAvatar:""},getters:{getStateUltimosLancamentosLoja(o){return o.ultimosLancamentosLoja},getStateMaisVendidos(o){return o.maisVendidos},getTodosCombos(o){return o.todosCombos},getLivrosPesquisados(o){return o.livrosPesquisados},getToken(o){return o.token},getNomeUsuario(o){return o.nomeUsuario},getDetalhesLivro(o){return o.detalhesLivro},getDetalhesCombo(o){return o.detalhesCombo},getItensCarrinho(o){return o.itensCarrinho},getQtdCarrinho(o){return o.itensCarrinho.length},getInfosUsuario(o){return o.infosUsuario},getLivrosComprados(o){return o.infosUsuario.livrosComprados},getCorAvatar(o){return o.corAvatar}},mutations:{setLivrosUltimosLancamentosLoja(o,e){o.ultimosLancamentosLoja=e},setLivrosMaisVendidos(o,e){o.maisVendidos=e},setTodosCombos(o,e){o.todosCombos=e},setPesquisarPorLivro(o,e){o.livrosPesquisados=e},setToken(o,e){o.token=e,localStorage.setItem("token",e)},setNomeUsuario(o,e){o.nomeUsuario=e,localStorage.setItem("nomeUsuario",e)},setDetalhesLivro(o,e){o.detalhesLivro=e},setDetalhesCombo(o,e){o.detalhesCombo=e},setItensCarrinho(o,e){o.itensCarrinho=e},setInfosUsuario(o,e){o.infosUsuario=e},setCorAvatar(o,e){o.corAvatar=e}},actions:{async buscarUltimosLancamentosLoja({commit:o}){try{const e=await(0,a.DO)();o("setLivrosUltimosLancamentosLoja",e.data)}catch(e){console.error("Ocorreu um erro: "+e)}},async pesquisarLivrosPorCategoria({commit:o},e){try{const t=await(0,a.ti)(e);o("setPesquisarPorLivro",t.data)}catch(t){console.error("Ocorreu um erro: "+t)}},async buscarMaisVendidos({commit:o}){try{const e=await(0,a.F2)();o("setLivrosMaisVendidos",e.data)}catch(e){console.error("Ocorreu um erro: "+e)}},async buscarTodosCombos({commit:o}){try{const e=await(0,a.T4)();o("setTodosCombos",e.data)}catch(e){console.error("Ocorreu um erro: "+e)}},async pesquisarPorLivro({commit:o},e){try{const t=await(0,a.SI)(e);o("setPesquisarPorLivro",t.data)}catch(t){console.error("Ocorreu um erro: "+t),o("setPesquisarPorLivro",[])}},async logarUsuario({commit:o},e){try{const t=await n.A.post("http://127.0.0.1:8000/api/clientes/login/",e,{headers:{"Content-Type":"application/json"}});o("setNomeUsuario",t.data.nomeUsuario),o("setToken",t.data.token)}catch(t){throw!t.response||400!==t.response.status&&401!==t.response.status?new Error("Ocorreu um erro ao fazer login."):new Error("Email/Username ou senha incorretos.")}},carregarTokenDoStorage({commit:o}){const e=localStorage.getItem("token");e&&o("setToken",e)},carregarNomeStorage({commit:o}){const e=localStorage.getItem("nomeUsuario");e&&o("setNomeUsuario",e)},async visitaRotaProtegida(){try{const o=await(0,a.UU)();console.log(o.data.msg)}catch(o){localStorage.setItem("token",""),localStorage.setItem("nomeUsuario",""),window.location.replace("/login")}},async carregarDetalhesLivro({commit:o},e){try{const t=await(0,a.Nw)(e);o("setDetalhesLivro",t.data)}catch(t){console.error("Ocorreu um erro: "+t)}},async carregarDetalhesCombo({commit:o},e){try{const t=await(0,a.dz)(e);o("setDetalhesCombo",t.data)}catch(t){console.error("Ocorreu um erro: "+t)}},async carregarItensCarrinho({commit:o}){try{const e=await(0,a.YI)();o("setItensCarrinho",e.data.itens)}catch(e){console.error("Ocorreu um erro: "+e)}},async adicionarAoCarrinho({commit:o},e){try{console.log(o);const t=await(0,a.rs)(e);console.log(t.data.msg)}catch(t){console.error("Ocorreu um erro: "+t),localStorage.setItem("token",""),localStorage.setItem("nomeUsuario",""),window.location.replace("/login")}},async removerLivroDoCarrinho({commit:o},e){try{console.log(o);const t=await(0,a.o_)(e);console.log(t.data.msg)}catch(t){console.error("Ocorreu um erro: "+t)}},async atualizarQuantidade({commit:o,dispatch:e},{idLivro:t,adicionar:r}){try{console.log(o);const n=await(0,a.A6)(t,r);return await e("carregarItensCarrinho"),n.data}catch(n){console.error("Erro ao atualizar quantidade: "+n)}},async comprarLivro({commit:o},{idLivro:e,quantidade:t}){try{await(0,a.To)(e,t),console.log(o)}catch(r){throw console.error("Erro ao comprar o livro: ",r),console.error("status:",r.response?.status),console.error("body  :",r.response?.data),r}},async getCliente({commit:o}){try{const e=await(0,a.Ju)();o("setInfosUsuario",e.data)}catch(e){console.error("Erro: "+e)}},corAvatar({commit:o},e){try{o("setCorAvatar",e)}catch(t){console.error("Erro: "+t)}},async atualizarInfosUsuario({commit:o,dispatch:e},t){try{await(0,a.P6)(t),o("setNomeUsuario",t.username),await e("getCliente")}catch(r){const o=r.response?.data?.msg||"Não foi possível atualizar os dados.";throw new Error(o)}}}})}},e={};function t(r){var a=e[r];if(void 0!==a)return a.exports;var n=e[r]={exports:{}};return o[r].call(n.exports,n,n.exports,t),n.exports}t.m=o,function(){var o=[];t.O=function(e,r,a,n){if(!r){var s=1/0;for(l=0;l<o.length;l++){r=o[l][0],a=o[l][1],n=o[l][2];for(var i=!0,c=0;c<r.length;c++)(!1&n||s>=n)&&Object.keys(t.O).every((function(o){return t.O[o](r[c])}))?r.splice(c--,1):(i=!1,n<s&&(s=n));if(i){o.splice(l--,1);var u=a();void 0!==u&&(e=u)}}return e}n=n||0;for(var l=o.length;l>0&&o[l-1][2]>n;l--)o[l]=o[l-1];o[l]=[r,a,n]}}(),function(){t.n=function(o){var e=o&&o.__esModule?function(){return o["default"]}:function(){return o};return t.d(e,{a:e}),e}}(),function(){t.d=function(o,e){for(var r in e)t.o(e,r)&&!t.o(o,r)&&Object.defineProperty(o,r,{enumerable:!0,get:e[r]})}}(),function(){t.f={},t.e=function(o){return Promise.all(Object.keys(t.f).reduce((function(e,r){return t.f[r](o,e),e}),[]))}}(),function(){t.u=function(o){return"js/"+o+"."+{281:"96d89aac",494:"fa335ff2",573:"23d33bd9",617:"1211e402",728:"c898c5f4",771:"e457bb94",781:"672a8ddc",889:"fa0e0c13",891:"7132fc44"}[o]+".js"}}(),function(){t.miniCssF=function(o){return"css/"+o+"."+{281:"52988ac0",494:"a44ba654",573:"6c278200",617:"22a7f2f7",728:"0a3861e3",771:"d2e03ae0",781:"c7da09a4",889:"ed789a43",891:"89524273"}[o]+".css"}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){t.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)}}(),function(){var o={},e="frontend:";t.l=function(r,a,n,s){if(o[r])o[r].push(a);else{var i,c;if(void 0!==n)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==e+n){i=d;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,t.nc&&i.setAttribute("nonce",t.nc),i.setAttribute("data-webpack",e+n),i.src=r),o[r]=[a];var m=function(e,t){i.onerror=i.onload=null,clearTimeout(p);var a=o[r];if(delete o[r],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((function(o){return o(t)})),e)return e(t)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){t.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){if("undefined"!==typeof document){var o=function(o,e,r,a,n){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",t.nc&&(s.nonce=t.nc);var i=function(t){if(s.onerror=s.onload=null,"load"===t.type)a();else{var r=t&&t.type,i=t&&t.target&&t.target.href||e,c=new Error("Loading CSS chunk "+o+" failed.\n("+r+": "+i+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=r,c.request=i,s.parentNode&&s.parentNode.removeChild(s),n(c)}};return s.onerror=s.onload=i,s.href=e,r?r.parentNode.insertBefore(s,r.nextSibling):document.head.appendChild(s),s},e=function(o,e){for(var t=document.getElementsByTagName("link"),r=0;r<t.length;r++){var a=t[r],n=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(n===o||n===e))return a}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){a=s[r],n=a.getAttribute("data-href");if(n===o||n===e)return a}},r=function(r){return new Promise((function(a,n){var s=t.miniCssF(r),i=t.p+s;if(e(s,i))return a();o(r,i,null,a,n)}))},a={524:0};t.f.miniCss=function(o,e){var t={281:1,494:1,573:1,617:1,728:1,771:1,781:1,889:1,891:1};a[o]?e.push(a[o]):0!==a[o]&&t[o]&&e.push(a[o]=r(o).then((function(){a[o]=0}),(function(e){throw delete a[o],e})))}}}(),function(){var o={524:0};t.f.j=function(e,r){var a=t.o(o,e)?o[e]:void 0;if(0!==a)if(a)r.push(a[2]);else{var n=new Promise((function(t,r){a=o[e]=[t,r]}));r.push(a[2]=n);var s=t.p+t.u(e),i=new Error,c=function(r){if(t.o(o,e)&&(a=o[e],0!==a&&(o[e]=void 0),a)){var n=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",i.name="ChunkLoadError",i.type=n,i.request=s,a[1](i)}};t.l(s,c,"chunk-"+e,e)}},t.O.j=function(e){return 0===o[e]};var e=function(e,r){var a,n,s=r[0],i=r[1],c=r[2],u=0;if(s.some((function(e){return 0!==o[e]}))){for(a in i)t.o(i,a)&&(t.m[a]=i[a]);if(c)var l=c(t)}for(e&&e(r);u<s.length;u++)n=s[u],t.o(o,n)&&o[n]&&o[n][0](),o[n]=0;return t.O(l)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=t.O(void 0,[504],(function(){return t(1836)}));r=t.O(r)})();
//# sourceMappingURL=app.601d8d60.js.map